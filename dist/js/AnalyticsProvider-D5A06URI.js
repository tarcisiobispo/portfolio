var e=Object.defineProperty,t=(t,o,i)=>((t,o,i)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[o]=i)(t,"symbol"!=typeof o?o+"":o,i);import{r as o,j as i}from"./chunk-97t_YIfn.js";import{_ as n,S as r,A as c}from"./index-DcLuGqJ0.js";import{C as s}from"./chunk-D-RamsAg.js";import"./chunk-CaQHdIPL.js";import"./chunk-BYrv5i2d.js";import"./chunk-Ckl-B3hr.js";import"./chunk-CpDD8AlY.js";import"./chunk-B2XT3wyq.js";import"./chunk-DHeuN9-N.js";class l{constructor(){t(this,"originalXMLHttpRequest"),t(this,"originalFetch"),this.originalXMLHttpRequest=window.XMLHttpRequest,this.originalFetch=window.fetch}install(){this.interceptXMLHttpRequest(),this.interceptFetch()}uninstall(){this.originalXMLHttpRequest&&(window.XMLHttpRequest=this.originalXMLHttpRequest),this.originalFetch&&(window.fetch=this.originalFetch)}interceptXMLHttpRequest(){const e=this.originalXMLHttpRequest,t=r,o=function(){const o=new e,i=o.open;return o.open=function(e,o,...n){if("string"==typeof o)try{if(t.matchesAnalyticsPattern(o,"wootric")){if(!t.validateAnalyticsUrl(o))return void console.warn("SecureLogRocket: Blocked potentially unsafe Wootric URL:",o)}else if(t.matchesAnalyticsPattern(o,"delighted")){if(!t.validateAnalyticsUrl(o))return void console.warn("SecureLogRocket: Blocked potentially unsafe Delighted URL:",o)}else if(t.matchesAnalyticsPattern(o,"logrocket")&&!t.validateAnalyticsUrl(o))return void console.warn("SecureLogRocket: Blocked potentially unsafe LogRocket URL:",o)}catch(r){return void console.warn("SecureLogRocket: Error validating URL:",r)}return i.call(this,e,o,...n)},o};o.prototype=e.prototype;for(const i of Object.getOwnPropertyNames(e))if("prototype"!==i&&"length"!==i&&"name"!==i){const t=Object.getOwnPropertyDescriptor(e,i);t&&Object.defineProperty(o,i,t)}window.XMLHttpRequest=o}interceptFetch(){const e=this.originalFetch,t=r;window.fetch=function(o,i){let n;try{if(n="string"==typeof o?o:o instanceof URL?o.href:o instanceof Request?o.url:String(o),(t.matchesAnalyticsPattern(n,"wootric")||t.matchesAnalyticsPattern(n,"delighted")||t.matchesAnalyticsPattern(n,"logrocket"))&&!t.validateAnalyticsUrl(n))return console.warn("SecureLogRocket: Blocked potentially unsafe analytics URL:",n),Promise.reject(new Error("URL validation failed"))}catch(r){console.warn("SecureLogRocket: Error validating fetch URL:",r)}return e.call(window,o,i)}}}const a=new class{constructor(){t(this,"logRocket",null),t(this,"interceptor"),t(this,"isInitialized",!1),this.interceptor=new l}async init(e,t={}){if(this.isInitialized)console.warn("SecureLogRocket: Already initialized");else try{this.interceptor.install(),this.preventDeprecatedEventListeners();try{const e=await n((()=>import("./chunk-D-RamsAg.js").then((e=>e.b))),[]);this.logRocket=e,"object"==typeof this.logRocket.default&&(this.logRocket=this.logRocket.default)}catch(o){throw console.error("SecureLogRocket: Error importing LogRocket:",o),o}const i={shouldAugmentNPS:!1,shouldParseXHRBlob:!1,network:{isEnabled:!0},...t};this.logRocket.init(e,i),this.isInitialized=!0}catch(i){throw console.error("SecureLogRocket: Failed to initialize:",i),this.interceptor.uninstall(),i}}identify(e,t){if(this.logRocket)try{const o=t?this.sanitizeUserInfo(t):void 0;this.logRocket.identify(e,o)}catch(o){console.error("SecureLogRocket: Error identifying user:",o)}else console.warn("SecureLogRocket: Not initialized")}track(e,t){if(this.logRocket)try{const o=t?this.sanitizeUserInfo(t):void 0;this.logRocket.track(e,o)}catch(o){console.error("SecureLogRocket: Error tracking event:",o)}else console.warn("SecureLogRocket: Not initialized")}getSessionURL(e){if(!this.logRocket)return console.warn("SecureLogRocket: Not initialized"),void e("");try{this.logRocket.getSessionURL((t=>{if(t&&"string"==typeof t&&t.length>0)try{const o=new URL(t);["app.logrocket.com","api.logrocket.com","e.logrocket.com","app.logrocket.io","api.logrocket.io","e.logrocket.io","cdn.logrocket.com","cdn.logrocket.io"].includes(o.hostname)?e(t):(console.warn("SecureLogRocket: Invalid session URL domain:",o.hostname),e(""))}catch(o){console.warn("SecureLogRocket: Invalid session URL format:",t),e("")}else console.warn("SecureLogRocket: Empty or invalid session URL received"),e("")}))}catch(t){console.error("SecureLogRocket: Error getting session URL:",t),e("")}}captureMessage(e,t){if(this.logRocket)try{const o=r.sanitizeString(e),i=t?this.sanitizeUserInfo(t):void 0;this.logRocket.captureMessage(o,i)}catch(o){console.error("SecureLogRocket: Error capturing message:",o)}else console.warn("SecureLogRocket: Not initialized")}captureException(e,t){if(this.logRocket)try{const o=t?this.sanitizeUserInfo(t):void 0;this.logRocket.captureException(e,o)}catch(o){console.error("SecureLogRocket: Error capturing exception:",o)}else console.warn("SecureLogRocket: Not initialized")}preventDeprecatedEventListeners(){const e=window.addEventListener;window.addEventListener=function(t,o,i){return"unload"===t?(console.warn('SecureLogRocket: Replacing deprecated "unload" event with "pagehide"'),e.call(this,"pagehide",o,i)):"beforeunload"===t?(console.warn('SecureLogRocket: "beforeunload" event should be used sparingly'),e.call(this,t,o,i)):e.call(this,t,o,i)}}uninstall(){try{this.logRocket&&"function"==typeof this.logRocket.uninstall&&this.logRocket.uninstall(),this.interceptor.uninstall(),this.logRocket=null,this.isInitialized=!1}catch(e){console.error("SecureLogRocket: Error during uninstall:",e)}}sanitizeUserInfo(e){const t={};for(const[o,i]of Object.entries(e)){const e=r.sanitizeString(String(o));t[e]="string"==typeof i?r.sanitizeString(i):"number"==typeof i||"boolean"==typeof i||null==i?i:r.sanitizeString(JSON.stringify(i))}return t}get isReady(){return this.isInitialized&&null!==this.logRocket}get instance(){return this.logRocket}},g=()=>(o.useEffect((()=>{try{const e="rp64ayubme";s.init(e),s.identify("tarcisio-portfolio",void 0,void 0,"TarcÃ­sio Bispo Portfolio"),s.setTag("portfolio_owner","Tarcisio Bispo de Araujo"),s.setTag("portfolio_type","UX/Product Designer"),s.setTag("contact_email","tbisp0@hotmail.com"),s.setTag("portfolio_version","2024"),s.setTag("site_language","multi"),s.event("portfolio_initialized")}catch(e){console.error("Failed to initialize Microsoft Clarity:",e)}}),[]),null),u=({gtmId:e})=>(o.useEffect((()=>{if("undefined"!=typeof window&&e){const t=document.createElement("script");return t.innerHTML=`\n        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n        })(window,document,'script','dataLayer','${e}');\n      `,document.head.appendChild(t),()=>{document.head.contains(t)&&document.head.removeChild(t)}}}),[e]),null),d=({gtmId:e})=>(o.useEffect((()=>{if("undefined"!=typeof window&&e){const t=document.createElement("noscript");return t.innerHTML=`\n        <iframe src="https://www.googletagmanager.com/ns.html?id=${e}"\n        height="0" width="0" style="display:none;visibility:hidden"></iframe>\n      `,document.body.insertBefore(t,document.body.firstChild),()=>{document.body.contains(t)&&document.body.removeChild(t)}}}),[e]),null),h=({children:e})=>(o.useEffect((()=>{try{a.init("fatqpp/portfolio-kbfin",{shouldAugmentNPS:!1,shouldParseXHRBlob:!1,network:{isEnabled:!0,requestSanitizer:e=>{if(e&&e.url)try{const t=new URL(e.url);if(!["tarcisiobispo.github.io","logrocket.com","logrocket.io","clarity.ms","clarity.microsoft.com","google-analytics.com","googletagmanager.com"].some((e=>t.hostname===e||t.hostname.endsWith(`.${e}`))))return null}catch(t){return null}return e}}}).then((()=>{a.getSessionURL((e=>{})),a.track("Portfolio Visit",{portfolioOwner:"Tarcisio Bispo de Araujo",ownerEmail:"tbisp0@hotmail.com",portfolioType:"UX/Product Designer",version:"2024"})})).catch((e=>{console.error("Failed to initialize secure LogRocket:",e)}))}catch(e){}}),[]),i.jsxs(i.Fragment,{children:[i.jsx(u,{gtmId:c.GTM_ID}),i.jsx(d,{gtmId:c.GTM_ID}),i.jsx(g,{}),e&&e]}));export{h as default};
//# sourceMappingURL=AnalyticsProvider-D5A06URI.js.map
