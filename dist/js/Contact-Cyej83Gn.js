import{r as e,j as a}from"./chunk-D0iNlUKO.js";import{d as r,C as s,S as t,e as o}from"./index-BLLGlnmv.js";import{u as l}from"./chunk-DZ78mKF8.js";import{m as n}from"./chunk-D63AqCpB.js";import{U as i,X as c,K as m,g as d,e as u,N as x,h as g,f as h}from"./chunk-KOdqHK5p.js";import"./chunk-BM1tBEXS.js";import"./chunk-D9IBY_jk.js";import"./chunk-BkSOgcxP.js";import"./chunk-CONuskom.js";const f=()=>{const{t:f,i18n:p}=l(),{playSubmitSuccess:b,playSubmitError:v,playFieldFocus:j}=r(),[y,N]=e.useState({name:"",email:"",message:""}),[E,k]=e.useState({}),[w,S]=e.useState({name:!1,email:!1,message:!1}),[C,F]=e.useState(!1),[M,O]=e.useState("idle"),U=e.useRef(null),V=e.useRef(null),q=e.useRef(null);e.useEffect((()=>{if("success"===M){const e=setTimeout((()=>{O("idle")}),4e3);return()=>clearTimeout(e)}}),[M]);const _=e.useCallback(((e,a)=>{try{const s=(null==p?void 0:p.language)||"pt-BR",o=a||"";switch(e){case"name":return o.trim()?o.trim().length<2?"en-US"===s?"Name must be at least 2 characters":"es-ES"===s?"El nombre debe tener al menos 2 caracteres":"Nome deve ter pelo menos 2 caracteres":void 0:"en-US"===s?"Name is required":"es-ES"===s?"El nombre es obligatorio":"Nome é obrigatório";case"email":return o.trim()?(r=o,t.validateEmail(r)?void 0:"en-US"===s?"Invalid email":"es-ES"===s?"Email inválido":"E-mail inválido"):"en-US"===s?"Email is required":"es-ES"===s?"El email es obligatorio":"E-mail é obrigatório";case"message":return o.trim()?o.trim().length<10?"en-US"===s?"Message must be at least 10 characters":"es-ES"===s?"El mensaje debe tener al menos 10 caracteres":"Mensagem deve ter pelo menos 10 caracteres":void 0:"en-US"===s?"Message is required":"es-ES"===s?"El mensaje es obligatorio":"Mensagem é obrigatória";default:return}}catch(s){return console.error("Erro na validação do campo:",s),"Erro na validação"}var r}),[null==p?void 0:p.language]),z=e.useCallback((e=>{try{const{name:a,value:r}=e.target,s=a;if(!a||!Object.keys(y).includes(a))return;if(N((e=>({...e,[a]:r}))),w[s]){const e=_(s,r||"");k((r=>({...r,[a]:e})))}}catch(a){console.error("Erro no handleChange:",a)}}),[y,w,_]),B=e.useCallback((e=>{try{const{name:a,value:r}=e.target,s=a;if(!a||!Object.keys(y).includes(a))return;S((e=>({...e,[a]:!0})));const t=_(s,r||"");k((e=>({...e,[a]:t})))}catch(a){console.error("Erro no handleBlur:",a)}}),[y,_]),P=async e=>{var a,r,s;if(e.preventDefault(),S({name:!0,email:!0,message:!0}),(()=>{const e={};return Object.keys(y).forEach((a=>{const r=a,s=_(r,y[r]);s&&(e[r]=s)})),k(e),0===Object.keys(e).length})()){F(!0),O("idle");try{await o.send("service_4z3a60b","template_nc73bg4",{from_name:y.name,from_email:y.email,message:y.message,to_email:"tbisp0@hotmail.com",subject:`Nova mensagem de contato de ${y.name}`,reply_to:y.email},"eRzZy4gTZ2NXGjFKz"),O("success"),N({name:"",email:"",message:""}),S({name:!1,email:!1,message:!1}),k({}),b()}catch(t){console.error("Erro ao enviar e-mail:",t),O("error"),v()}finally{F(!1)}}else{const e={};Object.keys(y).forEach((a=>{const r=a,s=_(r,y[r]);s&&(e[r]=s)}));const t=Object.keys(e)[0];"name"===t?null==(a=U.current)||a.focus():"email"===t?null==(r=V.current)||r.focus():"message"===t&&(null==(s=q.current)||s.focus())}},R=e.useMemo((()=>{const e={name:{isValid:!1,hasError:!1},email:{isValid:!1,hasError:!1},message:{isValid:!1,hasError:!1}};return Object.keys(y).forEach((a=>{const r=a;try{const a=w[r]&&!!E[r],s=w[r]&&y[r]&&!_(r,y[r]);e[r]={isValid:s,hasError:a}}catch(s){console.error(`Erro ao verificar estado do campo ${r}:`,s),e[r]={isValid:!1,hasError:!1}}})),e}),[y,w,E,_]),T=e.useCallback((e=>{var a;return(null==(a=R[e])?void 0:a.isValid)||!1}),[R]),D=e.useCallback((e=>{var a;return(null==(a=R[e])?void 0:a.hasError)||!1}),[R]);return a.jsxs("section",{id:"contact",className:"py-8",children:[a.jsx(n.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"mb-12",children:a.jsxs("div",{className:"max-w-2xl mx-auto text-left px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-[var(--color-text)] mb-4",children:f("contact.title")}),a.jsx("p",{className:"text-[var(--color-muted)] text-lg mb-4",children:f("contact.description")}),a.jsx(n.div,{initial:{width:0},animate:{width:"120px"},transition:{duration:.8,delay:.6},className:"h-1 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full"})]})}),a.jsx(n.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2,ease:"easeOut"},className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("form",{onSubmit:P,className:"space-y-6",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-[var(--color-text)]",children:[a.jsx(i,{className:"inline w-4 h-4 mr-2","aria-hidden":"true"}),f("contact.form.name"),a.jsx("span",{className:"text-[var(--color-error)] ml-1","aria-label":f("contact.form.required"),children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:U,type:"text",id:"name",name:"name",value:y.name,onChange:z,onBlur:B,onFocus:()=>j(),className:"w-full px-4 py-3 rounded-lg border-2 transition-all duration-300 bg-[var(--color-surface)] text-[var(--color-text)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent "+(D("name")?"border-red-500 focus:ring-red-500":T("name")?"border-green-500 focus:ring-green-500":"border-[var(--color-border)] hover:border-[var(--color-primary)]/50"),placeholder:f("contact.form.namePlaceholder"),"aria-invalid":D("name")?"true":"false","aria-describedby":D("name")?"name-error":void 0,autoComplete:"name"}),D("name")&&a.jsx(c,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-red-500","aria-hidden":"true"}),T("name")&&a.jsx(m,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-500","aria-hidden":"true"})]}),E.name&&w.name&&a.jsxs("p",{id:"name-error",className:"text-sm text-[var(--color-error)] flex items-center gap-1",role:"alert",children:[a.jsx(d,{className:"w-4 h-4","aria-hidden":"true"}),E.name]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-[var(--color-text)]",children:[a.jsx(u,{className:"inline w-4 h-4 mr-2","aria-hidden":"true"}),f("contact.form.email"),a.jsx("span",{className:"text-[var(--color-error)] ml-1","aria-label":f("contact.form.required"),children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:V,type:"email",id:"email",name:"email",value:y.email,onChange:z,onBlur:B,onFocus:()=>j(),className:"w-full px-4 py-3 rounded-lg border-2 transition-all duration-300 bg-[var(--color-surface)] text-[var(--color-text)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent "+(D("email")?"border-red-500 focus:ring-red-500":T("email")?"border-green-500 focus:ring-green-500":"border-[var(--color-border)] hover:border-[var(--color-primary)]/50"),placeholder:f("contact.form.emailPlaceholder"),"aria-invalid":D("email")?"true":"false","aria-describedby":D("email")?"email-error":void 0,autoComplete:"email",inputMode:"email"}),D("email")&&a.jsx(c,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-red-500","aria-hidden":"true"}),T("email")&&a.jsx(m,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-500","aria-hidden":"true"})]}),E.email&&w.email&&a.jsxs("p",{id:"email-error",className:"text-sm text-[var(--color-error)] flex items-center gap-1",role:"alert",children:[a.jsx(d,{className:"w-4 h-4","aria-hidden":"true"}),E.email]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{htmlFor:"message",className:"block text-sm font-semibold text-[var(--color-text)]",children:[a.jsx(x,{className:"inline w-4 h-4 mr-2","aria-hidden":"true"}),f("contact.form.message"),a.jsx("span",{className:"text-[var(--color-error)] ml-1","aria-label":f("contact.form.required"),children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("textarea",{ref:q,id:"message",name:"message",value:y.message,onChange:z,onBlur:B,onFocus:()=>j(),rows:5,className:"w-full px-4 py-3 rounded-lg border-2 transition-all duration-300 bg-[var(--color-surface)] text-[var(--color-text)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent resize-vertical "+(D("message")?"border-red-500 focus:ring-red-500":T("message")?"border-green-500 focus:ring-green-500":"border-[var(--color-border)] hover:border-[var(--color-primary)]/50"),placeholder:f("contact.form.messagePlaceholder"),"aria-invalid":D("message")?"true":"false","aria-describedby":D("message")?"message-error":"message-hint",minLength:10}),D("message")&&a.jsx(c,{className:"absolute right-3 top-3 w-5 h-5 text-red-500","aria-hidden":"true"}),T("message")&&a.jsx(m,{className:"absolute right-3 top-3 w-5 h-5 text-green-500","aria-hidden":"true"})]}),E.message&&w.message?a.jsxs("p",{id:"message-error",className:"text-sm text-[var(--color-error)] flex items-center gap-1",role:"alert",children:[a.jsx(d,{className:"w-4 h-4","aria-hidden":"true"}),E.message]}):a.jsx("p",{id:"message-hint",className:"text-xs text-[var(--color-muted)]",children:f("contact.form.messageHint")})]}),a.jsxs("div",{children:[a.jsx(s,{onClick:()=>{P({preventDefault:()=>{}})},variant:"primary",size:"lg",icon:g,iconPosition:"left",disabled:C,loading:C,className:"w-full",ariaLabel:f(C?"contact.form.sending":"contact.form.send"),children:f(C?"contact.form.sending":"contact.form.send")}),a.jsx("div",{className:"mt-2 text-center",children:a.jsx("p",{className:"text-sm text-[var(--color-muted)] max-w-prose mx-auto",children:f("contact.form.privacy")})})]}),"success"===M&&a.jsxs(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-4 flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/10 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-400",role:"status","aria-live":"polite",children:[a.jsx(h,{className:"w-5 h-5 flex-shrink-0","aria-hidden":"true"}),a.jsx("span",{className:"font-medium text-left",children:"en-US"===p.language?"Message sent successfully!":"es-ES"===p.language?"¡Mensaje enviado con éxito!":"Mensagem enviada com sucesso!"})]}),"error"===M&&a.jsxs(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-4 flex items-center gap-3 p-4 bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400",role:"alert","aria-live":"assertive",children:[a.jsx(d,{className:"w-5 h-5 flex-shrink-0","aria-hidden":"true"}),a.jsx("span",{className:"font-medium text-left",children:"en-US"===p.language?"Error sending message. Please try again.":"es-ES"===p.language?"Error al enviar mensaje. Inténtalo de nuevo.":"Erro ao enviar mensagem. Tente novamente."})]})]})})]})};export{f as default};
//# sourceMappingURL=Contact-Cyej83Gn.js.map
