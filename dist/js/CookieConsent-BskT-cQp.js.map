{"version":3,"file":"CookieConsent-BskT-cQp.js","sources":["../../src/components/CookieConsent.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { X, Cookie, Shield, BarChart3, Eye } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\ninterface CookiePreferences {\r\n  necessary: boolean;\r\n  analytics: boolean;\r\n  marketing: boolean;\r\n}\r\n\r\nconst CookieConsent: React.FC = () => {\r\n  const { t } = useTranslation();\r\n  const [showBanner, setShowBanner] = useState(false);\r\n  const [showDetails, setShowDetails] = useState(false);\r\n  const [preferences, setPreferences] = useState<CookiePreferences>({\r\n    necessary: true, // Always true, cannot be disabled\r\n    analytics: false,\r\n    marketing: false\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Check if user has already made a choice\r\n    const consent = localStorage.getItem('cookie-consent');\r\n    if (!consent) {\r\n      // Show banner after a short delay\r\n      setTimeout(() => setShowBanner(true), 2000);\r\n    } else {\r\n      // Load saved preferences\r\n      try {\r\n        const savedPreferences = JSON.parse(consent);\r\n        setPreferences(savedPreferences);\r\n        // Initialize analytics based on consent\r\n        if (savedPreferences.analytics) {\r\n          initializeAnalytics();\r\n        }\r\n      } catch (error) {\r\n        console.error('Error parsing cookie consent:', error);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const initializeAnalytics = () => {\r\n    // Initialize Google Analytics\r\n    if (typeof window !== 'undefined' && window.gtag) {\r\n      window.gtag('consent', 'update', {\r\n        analytics_storage: 'granted'\r\n      });\r\n    }\r\n\r\n    // Initialize LogRocket\r\n    if (typeof window !== 'undefined' && window.LogRocket) {\r\n      // LogRocket is already initialized, just enable it\r\n      console.log('Analytics enabled via cookie consent');\r\n    }\r\n  };\r\n\r\n  const handleAcceptAll = () => {\r\n    const newPreferences = {\r\n      necessary: true,\r\n      analytics: true,\r\n      marketing: true\r\n    };\r\n    \r\n    setPreferences(newPreferences);\r\n    localStorage.setItem('cookie-consent', JSON.stringify(newPreferences));\r\n    localStorage.setItem('cookie-consent-date', new Date().toISOString());\r\n    \r\n    initializeAnalytics();\r\n    setShowBanner(false);\r\n  };\r\n\r\n  const handleAcceptNecessary = () => {\r\n    const newPreferences = {\r\n      necessary: true,\r\n      analytics: false,\r\n      marketing: false\r\n    };\r\n    \r\n    setPreferences(newPreferences);\r\n    localStorage.setItem('cookie-consent', JSON.stringify(newPreferences));\r\n    localStorage.setItem('cookie-consent-date', new Date().toISOString());\r\n    \r\n    setShowBanner(false);\r\n  };\r\n\r\n  const handleSavePreferences = () => {\r\n    localStorage.setItem('cookie-consent', JSON.stringify(preferences));\r\n    localStorage.setItem('cookie-consent-date', new Date().toISOString());\r\n    \r\n    if (preferences.analytics) {\r\n      initializeAnalytics();\r\n    }\r\n    \r\n    setShowBanner(false);\r\n    setShowDetails(false);\r\n  };\r\n\r\n  const handlePreferenceChange = (type: keyof CookiePreferences) => {\r\n    if (type === 'necessary') return; // Cannot disable necessary cookies\r\n    \r\n    setPreferences(prev => ({\r\n      ...prev,\r\n      [type]: !prev[type]\r\n    }));\r\n  };\r\n\r\n  if (!showBanner) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <motion.div\r\n        initial={{ y: 100, opacity: 0 }}\r\n        animate={{ y: 0, opacity: 1 }}\r\n        exit={{ y: 100, opacity: 0 }}\r\n        transition={{ duration: 0.4, ease: [0.16, 1, 0.3, 1] }}\r\n        className=\"fixed bottom-0 left-0 right-0 z-50 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 shadow-lg\"\r\n        role=\"dialog\"\r\n        aria-labelledby=\"cookie-consent-title\"\r\n        aria-describedby=\"cookie-consent-description\"\r\n      >\r\n        <div className=\"max-w-7xl mx-auto p-4\">\r\n          {!showDetails ? (\r\n            // Simple Banner\r\n            <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\r\n              <div className=\"flex items-start gap-3 flex-1\">\r\n                <Cookie className=\"w-6 h-6 text-blue-600 dark:text-blue-400 mt-1 flex-shrink-0\" />\r\n                <div>\r\n                  <h3 id=\"cookie-consent-title\" className=\"font-semibold text-gray-900 dark:text-white mb-1\">\r\n                    {t('cookies.title')}\r\n                  </h3>\r\n                  <p id=\"cookie-consent-description\" className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                    {t('cookies.description')}{' '}\r\n                    <button\r\n                      onClick={() => setShowDetails(true)}\r\n                      className=\"text-blue-600 dark:text-blue-400 hover:underline font-medium\"\r\n                    >\r\n                      {t('cookies.learnMore')}\r\n                    </button>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex flex-col sm:flex-row gap-2 w-full sm:w-auto\">\r\n                <button\r\n                  onClick={handleAcceptNecessary}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors\"\r\n                >\r\n                  {t('cookies.acceptNecessary')}\r\n                </button>\r\n                <button\r\n                  onClick={() => setShowDetails(true)}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors\"\r\n                >\r\n                  {t('cookies.customize')}\r\n                </button>\r\n                <button\r\n                  onClick={handleAcceptAll}\r\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors\"\r\n                >\r\n                  {t('cookies.acceptAll')}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            // Detailed Preferences\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\r\n                  {t('cookies.preferences.title')}\r\n                </h3>\r\n                <button\r\n                  onClick={() => setShowDetails(false)}\r\n                  className=\"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\r\n                  aria-label={t('common.close')}\r\n                >\r\n                  <X className=\"w-5 h-5\" />\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"grid gap-4\">\r\n                {/* Necessary Cookies */}\r\n                <div className=\"flex items-start gap-3 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg\">\r\n                  <Shield className=\"w-5 h-5 text-green-600 dark:text-green-400 mt-1\" />\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <h4 className=\"font-medium text-gray-900 dark:text-white\">\r\n                        {t('cookies.types.necessary.title')}\r\n                      </h4>\r\n                      <span className=\"text-xs px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded\">\r\n                        {t('cookies.required')}\r\n                      </span>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                      {t('cookies.types.necessary.description')}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Analytics Cookies */}\r\n                <div className=\"flex items-start gap-3 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg\">\r\n                  <BarChart3 className=\"w-5 h-5 text-blue-600 dark:text-blue-400 mt-1\" />\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <h4 className=\"font-medium text-gray-900 dark:text-white\">\r\n                        {t('cookies.types.analytics.title')}\r\n                      </h4>\r\n                      <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={preferences.analytics}\r\n                          onChange={() => handlePreferenceChange('analytics')}\r\n                          className=\"sr-only peer\"\r\n                        />\r\n                        <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div>\r\n                      </label>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                      {t('cookies.types.analytics.description')}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n                      {t('cookies.types.analytics.providers')}: Google Analytics, LogRocket\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Marketing Cookies */}\r\n                <div className=\"flex items-start gap-3 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg\">\r\n                  <Eye className=\"w-5 h-5 text-purple-600 dark:text-purple-400 mt-1\" />\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <h4 className=\"font-medium text-gray-900 dark:text-white\">\r\n                        {t('cookies.types.marketing.title')}\r\n                      </h4>\r\n                      <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={preferences.marketing}\r\n                          onChange={() => handlePreferenceChange('marketing')}\r\n                          className=\"sr-only peer\"\r\n                        />\r\n                        <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600\"></div>\r\n                      </label>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                      {t('cookies.types.marketing.description')}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex flex-col sm:flex-row gap-2 pt-4 border-t border-gray-200 dark:border-gray-700\">\r\n                <button\r\n                  onClick={handleAcceptNecessary}\r\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors\"\r\n                >\r\n                  {t('cookies.acceptNecessary')}\r\n                </button>\r\n                <button\r\n                  onClick={handleSavePreferences}\r\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors\"\r\n                >\r\n                  {t('cookies.savePreferences')}\r\n                </button>\r\n                <button\r\n                  onClick={handleAcceptAll}\r\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-lg transition-colors\"\r\n                >\r\n                  {t('cookies.acceptAll')}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default CookieConsent;\r\n"],"names":["CookieConsent","t","useTranslation","showBanner","setShowBanner","useState","showDetails","setShowDetails","preferences","setPreferences","necessary","analytics","marketing","useEffect","consent","localStorage","getItem","savedPreferences","JSON","parse","initializeAnalytics","error","setTimeout","window","gtag","analytics_storage","handleAcceptAll","newPreferences","setItem","stringify","Date","toISOString","handleAcceptNecessary","handlePreferenceChange","type","prev","AnimatePresence","motion","div","initial","y","opacity","animate","exit","transition","duration","ease","className","role","aria-labelledby","aria-describedby","children","h3","button","onClick","aria-label","X","Shield","h4","span","p","BarChart3","label","input","checked","onChange","Eye","Cookie","id"],"mappings":"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"}