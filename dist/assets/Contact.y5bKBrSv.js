import{u as e,r as a,j as r,m as s,U as t,X as o,aC as l,ag as i,w as n,aD as c,ap as m,af as d,aq as u}from"./vendor.CpgnmK0_.js";import{C as g}from"./CTAButton.CtK6KhZQ.js";import{b as x,S as h}from"./index.C5mZWGpy.js";const f=()=>{const{t:f,i18n:b}=e(),{playSubmitSuccess:p,playSubmitError:v,playFieldFocus:y}=x(),[j,N]=a.useState({name:"",email:"",message:""}),[E,w]=a.useState({}),[S,k]=a.useState({name:!1,email:!1,message:!1}),[C,F]=a.useState(!1),[M,O]=a.useState("idle"),U=a.useRef(null),q=a.useRef(null),V=a.useRef(null);a.useEffect((()=>{if("success"===M){const e=setTimeout((()=>{O("idle")}),4e3);return()=>clearTimeout(e)}}),[M]);const B=a.useCallback(((e,a)=>{try{const s=b?.language||"pt-BR",t=a||"";switch(e){case"name":return t.trim()?t.trim().length<2?"en-US"===s?"Name must be at least 2 characters":"es-ES"===s?"El nombre debe tener al menos 2 caracteres":"Nome deve ter pelo menos 2 caracteres":void 0:"en-US"===s?"Name is required":"es-ES"===s?"El nombre es obligatorio":"Nome é obrigatório";case"email":return t.trim()?(r=t,h.validateEmail(r)?void 0:"en-US"===s?"Invalid email":"es-ES"===s?"Email inválido":"E-mail inválido"):"en-US"===s?"Email is required":"es-ES"===s?"El email es obligatorio":"E-mail é obrigatório";case"message":return t.trim()?t.trim().length<10?"en-US"===s?"Message must be at least 10 characters":"es-ES"===s?"El mensaje debe tener al menos 10 caracteres":"Mensagem deve ter pelo menos 10 caracteres":void 0:"en-US"===s?"Message is required":"es-ES"===s?"El mensaje es obligatorio":"Mensagem é obrigatória";default:return}}catch(s){return console.error("Erro na validação do campo:",s),"Erro na validação"}var r}),[b?.language]),_=a.useCallback((e=>{try{const{name:a,value:r}=e.target,s=a;if(!a||!Object.keys(j).includes(a))return;if(N((e=>({...e,[a]:r}))),S[s]){const e=B(s,r||"");w((r=>({...r,[a]:e})))}}catch(a){console.error("Erro no handleChange:",a)}}),[j,S,B]),z=a.useCallback((e=>{try{const{name:a,value:r}=e.target,s=a;if(!a||!Object.keys(j).includes(a))return;k((e=>({...e,[a]:!0})));const t=B(s,r||"");w((e=>({...e,[a]:t})))}catch(a){console.error("Erro no handleBlur:",a)}}),[j,B]),P=async e=>{if(e.preventDefault(),k({name:!0,email:!0,message:!0}),(()=>{const e={};return Object.keys(j).forEach((a=>{const r=a,s=B(r,j[r]);s&&(e[r]=s)})),w(e),0===Object.keys(e).length})()){F(!0),O("idle");try{await u.send("service_4z3a60b","template_nc73bg4",{from_name:j.name,from_email:j.email,message:j.message,to_email:"tbisp0@hotmail.com",subject:`Nova mensagem de contato de ${j.name}`,reply_to:j.email},"eRzZy4gTZ2NXGjFKz"),O("success"),N({name:"",email:"",message:""}),k({name:!1,email:!1,message:!1}),w({}),p()}catch(a){console.error("Erro ao enviar e-mail:",a),O("error"),v()}finally{F(!1)}}else{const e={};Object.keys(j).forEach((a=>{const r=a,s=B(r,j[r]);s&&(e[r]=s)}));const a=Object.keys(e)[0];"name"===a?U.current?.focus():"email"===a?q.current?.focus():"message"===a&&V.current?.focus()}},R=a.useMemo((()=>{const e={name:{isValid:!1,hasError:!1},email:{isValid:!1,hasError:!1},message:{isValid:!1,hasError:!1}};return Object.keys(j).forEach((a=>{const r=a;try{const a=S[r]&&!!E[r],s=S[r]&&j[r]&&!B(r,j[r]);e[r]={isValid:s,hasError:a}}catch(s){console.error(`Erro ao verificar estado do campo ${r}:`,s),e[r]={isValid:!1,hasError:!1}}})),e}),[j,S,E,B]),T=a.useCallback((e=>R[e]?.isValid||!1),[R]),D=a.useCallback((e=>R[e]?.hasError||!1),[R]);return r.jsxs("section",{id:"contact",className:"py-16",children:[r.jsx(s.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"mb-16",children:r.jsxs("div",{className:"text-left",children:[r.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-[var(--color-text)] mb-8",children:f("contact.title")}),r.jsx("p",{className:"text-lg md:text-xl text-[var(--color-text-secondary)] leading-relaxed mb-8",children:f("contact.description")}),r.jsx(s.div,{initial:{width:0},animate:{width:"120px"},transition:{duration:.8,delay:.6},className:"h-1 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full"})]})}),r.jsx(s.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2,ease:"easeOut"},className:"max-w-[1200px] mx-auto",children:r.jsxs("form",{onSubmit:P,className:"space-y-6",noValidate:!0,children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-[var(--color-text)]",children:[r.jsx(t,{className:"inline w-4 h-4 mr-2","aria-hidden":"true"}),f("contact.form.name"),r.jsx("span",{className:"text-[var(--color-error)] ml-1","aria-label":f("contact.form.required"),children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:U,type:"text",id:"name",name:"name",value:j.name,onChange:_,onBlur:z,onFocus:()=>y(),className:"w-full px-4 py-3 rounded-lg border-2 transition-all duration-300 bg-[var(--color-surface)] text-[var(--color-text)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent "+(D("name")?"border-red-500 focus:ring-red-500":T("name")?"border-green-500 focus:ring-green-500":"border-[var(--color-border)] hover:border-[var(--color-primary)]/50"),placeholder:f("contact.form.namePlaceholder"),"aria-invalid":D("name")?"true":"false","aria-describedby":D("name")?"name-error":void 0,autoComplete:"name"}),D("name")&&r.jsx(o,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-red-500","aria-hidden":"true"}),T("name")&&r.jsx(l,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-500","aria-hidden":"true"})]}),E.name&&S.name&&r.jsxs("p",{id:"name-error",className:"text-sm text-[var(--color-error)] flex items-center gap-1",role:"alert",children:[r.jsx(i,{className:"w-4 h-4","aria-hidden":"true"}),E.name]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-[var(--color-text)]",children:[r.jsx(n,{className:"inline w-4 h-4 mr-2","aria-hidden":"true"}),f("contact.form.email"),r.jsx("span",{className:"text-[var(--color-error)] ml-1","aria-label":f("contact.form.required"),children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{ref:q,type:"email",id:"email",name:"email",value:j.email,onChange:_,onBlur:z,onFocus:()=>y(),className:"w-full px-4 py-3 rounded-lg border-2 transition-all duration-300 bg-[var(--color-surface)] text-[var(--color-text)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent "+(D("email")?"border-red-500 focus:ring-red-500":T("email")?"border-green-500 focus:ring-green-500":"border-[var(--color-border)] hover:border-[var(--color-primary)]/50"),placeholder:f("contact.form.emailPlaceholder"),"aria-invalid":D("email")?"true":"false","aria-describedby":D("email")?"email-error":void 0,autoComplete:"email",inputMode:"email"}),D("email")&&r.jsx(o,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-red-500","aria-hidden":"true"}),T("email")&&r.jsx(l,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-green-500","aria-hidden":"true"})]}),E.email&&S.email&&r.jsxs("p",{id:"email-error",className:"text-sm text-[var(--color-error)] flex items-center gap-1",role:"alert",children:[r.jsx(i,{className:"w-4 h-4","aria-hidden":"true"}),E.email]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("label",{htmlFor:"message",className:"block text-sm font-semibold text-[var(--color-text)]",children:[r.jsx(c,{className:"inline w-4 h-4 mr-2","aria-hidden":"true"}),f("contact.form.message"),r.jsx("span",{className:"text-[var(--color-error)] ml-1","aria-label":f("contact.form.required"),children:"*"})]}),r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{ref:V,id:"message",name:"message",value:j.message,onChange:_,onBlur:z,onFocus:()=>y(),rows:5,className:"w-full px-4 py-3 rounded-lg border-2 transition-all duration-300 bg-[var(--color-surface)] text-[var(--color-text)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] focus:border-transparent resize-vertical "+(D("message")?"border-red-500 focus:ring-red-500":T("message")?"border-green-500 focus:ring-green-500":"border-[var(--color-border)] hover:border-[var(--color-primary)]/50"),placeholder:f("contact.form.messagePlaceholder"),"aria-invalid":D("message")?"true":"false","aria-describedby":D("message")?"message-error":"message-hint",minLength:10}),D("message")&&r.jsx(o,{className:"absolute right-3 top-3 w-5 h-5 text-red-500","aria-hidden":"true"}),T("message")&&r.jsx(l,{className:"absolute right-3 top-3 w-5 h-5 text-green-500","aria-hidden":"true"})]}),E.message&&S.message?r.jsxs("p",{id:"message-error",className:"text-sm text-[var(--color-error)] flex items-center gap-1",role:"alert",children:[r.jsx(i,{className:"w-4 h-4","aria-hidden":"true"}),E.message]}):r.jsx("p",{id:"message-hint",className:"text-xs text-[var(--color-muted)]",children:f("contact.form.messageHint")})]}),r.jsxs("div",{children:[r.jsx(g,{onClick:()=>{P({preventDefault:()=>{}})},variant:"primary",size:"lg",icon:m,iconPosition:"left",disabled:C,loading:C,className:"w-full",ariaLabel:f(C?"contact.form.sending":"contact.form.send"),children:f(C?"contact.form.sending":"contact.form.send")}),r.jsx("div",{className:"mt-2 text-center",children:r.jsx("p",{className:"text-sm text-[var(--color-muted)] max-w-prose mx-auto",children:f("contact.form.privacy")})})]}),"success"===M&&r.jsxs(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-4 flex items-center gap-3 p-4 bg-green-50 dark:bg-green-900/10 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-400",role:"status","aria-live":"polite",children:[r.jsx(d,{className:"w-5 h-5 flex-shrink-0","aria-hidden":"true"}),r.jsx("span",{className:"font-medium text-left",children:"en-US"===b.language?"Message sent successfully!":"es-ES"===b.language?"¡Mensaje enviado con éxito!":"Mensagem enviada com sucesso!"})]}),"error"===M&&r.jsxs(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-4 flex items-center gap-3 p-4 bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400",role:"alert","aria-live":"assertive",children:[r.jsx(i,{className:"w-5 h-5 flex-shrink-0","aria-hidden":"true"}),r.jsx("span",{className:"font-medium text-left",children:"en-US"===b.language?"Error sending message. Please try again.":"es-ES"===b.language?"Error al enviar mensaje. Inténtalo de nuevo.":"Erro ao enviar mensagem. Tente novamente."})]})]})})]})};export{f as default};
