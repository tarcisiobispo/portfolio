import{r as e,j as t}from"./vendor.CpgnmK0_.js";import{_ as o,S as i,A as r}from"./index.Bx7u_Otr.js";class n{originalXMLHttpRequest;originalFetch;constructor(){this.originalXMLHttpRequest=window.XMLHttpRequest,this.originalFetch=window.fetch}install(){this.interceptXMLHttpRequest(),this.interceptFetch()}uninstall(){this.originalXMLHttpRequest&&(window.XMLHttpRequest=this.originalXMLHttpRequest),this.originalFetch&&(window.fetch=this.originalFetch)}interceptXMLHttpRequest(){const e=this.originalXMLHttpRequest,t=i,o=function(){const o=new e,i=o.open;return o.open=function(e,o,...r){if("string"==typeof o)try{if(t.matchesAnalyticsPattern(o,"wootric")){if(!t.validateAnalyticsUrl(o))return void console.warn("SecureLogRocket: Blocked potentially unsafe Wootric URL:",o)}else if(t.matchesAnalyticsPattern(o,"delighted")){if(!t.validateAnalyticsUrl(o))return void console.warn("SecureLogRocket: Blocked potentially unsafe Delighted URL:",o)}else if(t.matchesAnalyticsPattern(o,"logrocket")&&!t.validateAnalyticsUrl(o))return void console.warn("SecureLogRocket: Blocked potentially unsafe LogRocket URL:",o)}catch(n){return void console.warn("SecureLogRocket: Error validating URL:",n)}return i.call(this,e,o,...r)},o};o.prototype=e.prototype;for(const i of Object.getOwnPropertyNames(e))if("prototype"!==i&&"length"!==i&&"name"!==i){const t=Object.getOwnPropertyDescriptor(e,i);t&&Object.defineProperty(o,i,t)}window.XMLHttpRequest=o}interceptFetch(){const e=this.originalFetch,t=i;window.fetch=function(o,i){let r;try{if(r="string"==typeof o?o:o instanceof URL?o.href:o instanceof Request?o.url:String(o),(t.matchesAnalyticsPattern(r,"wootric")||t.matchesAnalyticsPattern(r,"delighted")||t.matchesAnalyticsPattern(r,"logrocket"))&&!t.validateAnalyticsUrl(r))return console.warn("SecureLogRocket: Blocked potentially unsafe analytics URL:",r),Promise.reject(new Error("URL validation failed"))}catch(n){console.warn("SecureLogRocket: Error validating fetch URL:",n)}return e.call(window,o,i)}}}const c=new class{logRocket=null;interceptor;isInitialized=!1;constructor(){this.interceptor=new n}async init(e,t={}){if(this.isInitialized)console.warn("SecureLogRocket: Already initialized");else{if(!e){const e=new Error("SecureLogRocket: appId is required");throw console.error(e),e}try{let n;this.interceptor.install(),this.preventDeprecatedEventListeners();try{if(n=await o((()=>import("./vendor.CpgnmK0_.js").then((e=>e.b))),[]),!n)throw new Error("Failed to import LogRocket module");if("object"==typeof n&&(this.logRocket="default"in n?n.default:n),!this.logRocket||"function"!=typeof this.logRocket.init)throw new Error("LogRocket module is not properly exported")}catch(i){console.error("SecureLogRocket: Error importing LogRocket:",i)}this.logRocket||(console.warn("SecureLogRocket: LogRocket not available, using mock implementation"),this.logRocket=this.createMockImplementation());try{const o={shouldAugmentNPS:!1,shouldParseXHRBlob:!1,network:{isEnabled:!0,...t.network||{}},...t};"function"==typeof this.logRocket.init?(this.logRocket.init(e,o),this.isInitialized=!0,console.log("SecureLogRocket: Initialized successfully with security enhancements")):console.warn("SecureLogRocket: init method not available")}catch(r){console.error("SecureLogRocket: Error during initialization:",r),this.logRocket=this.createMockImplementation(),this.isInitialized=!0}}catch(n){console.error("SecureLogRocket: Failed to initialize:",n),this.interceptor.uninstall(),this.logRocket=this.createMockImplementation(),this.isInitialized=!0}}}createMockImplementation(){console.warn("SecureLogRocket: Using mock implementation");return{init:()=>{},identify:(e,t)=>{console.log(`[Mock] identify: ${e}`,t)},track:(e,t)=>{console.log(`[Mock] track: ${e}`,t)},getSessionURL:e=>{console.log("[Mock] getSessionURL"),e("#")},captureMessage:(e,t)=>{console.log(`[Mock] captureMessage: ${e}`,t)},captureException:(e,t)=>{console.error("[Mock] captureException:",e,t)}}}identify(e,t){this.logRocket||(this.logRocket=this.createMockImplementation(),this.isInitialized=!0);try{const o=t?this.sanitizeUserInfo(t):void 0;"function"==typeof this.logRocket.identify?this.logRocket.identify(e,o):console.warn("SecureLogRocket: identify method not available")}catch(o){console.error("SecureLogRocket: Error identifying user:",o)}}track(e,t){if(this.logRocket)try{const o=t?this.sanitizeUserInfo(t):void 0;this.logRocket.track(e,o)}catch(o){console.error("SecureLogRocket: Error tracking event:",o)}else console.warn("SecureLogRocket: Not initialized")}getSessionURL(e){if(!this.logRocket)return console.warn("SecureLogRocket: Not initialized"),void e("");try{this.logRocket.getSessionURL((t=>{if(t&&"string"==typeof t&&t.length>0)try{const o=new URL(t),i=o.hostname.toLowerCase().trim();[/^app\.logrocket\.com$/,/^api\.logrocket\.com$/,/^e\.logrocket\.com$/,/^app\.logrocket\.io$/,/^api\.logrocket\.io$/,/^e\.logrocket\.io$/,/^cdn\.logrocket\.com$/,/^cdn\.logrocket\.io$/,/^cdn\.lr-ingest\.io$/,/^cdn\.lr-in\.com$/,/^cdn\.lr-in-prod\.com$/,/^cdn\.lr-ingest\.com$/,/^cdn\.ingest-lr\.com$/,/^cdn\.lr-intake\.com$/,/^cdn\.intake-lr\.com$/,/^cdn\.logr-ingest\.com$/,/^cdn\.lrkt-in\.com$/,/^cdn\.lgrckt-in\.com$/,/^cdn-staging\.logrocket\.io$/,/^cdn-staging\.lr-ingest\.io$/,/^cdn-staging\.lr-in\.com$/,/^cdn-staging\.lr-in-prod\.com$/,/^cdn-staging\.lr-ingest\.com$/,/^cdn-staging\.ingest-lr\.com$/,/^cdn-staging\.lr-intake\.com$/,/^cdn-staging\.intake-lr\.com$/,/^cdn-staging\.logr-ingest\.com$/,/^cdn-staging\.lrkt-in\.com$/,/^cdn-staging\.lgrckt-in\.com$/,/^r\.logrocket\.io$/,/^r\.lr-ingest\.io$/,/^r\.lr-in\.com$/,/^r\.lr-in-prod\.com$/,/^r\.lr-ingest\.com$/,/^r\.ingest-lr\.com$/,/^r\.lr-intake\.com$/,/^r\.intake-lr\.com$/,/^r\.logr-ingest\.com$/,/^r\.lrkt-in\.com$/,/^r\.lgrckt-in\.com$/,/^staging-i\.logrocket\.io$/,/^staging-i\.lr-ingest\.io$/,/^staging-i\.lr-in\.com$/,/^staging-i\.lr-in-prod\.com$/,/^staging-i\.lr-ingest\.com$/,/^staging-i\.ingest-lr\.com$/,/^staging-i\.lr-intake\.com$/,/^staging-i\.intake-lr\.com$/,/^staging-i\.logr-ingest\.com$/,/^staging-i\.lrkt-in\.com$/,/^staging-i\.lgrckt-in\.com$/].some((e=>e.test(i)))?e(t):(console.warn("SecureLogRocket: Invalid session URL domain:",o.hostname),e(""))}catch(o){console.warn("SecureLogRocket: Invalid session URL format:",t),e("")}else console.warn("SecureLogRocket: Empty or invalid session URL received"),e("")}))}catch(t){console.error("SecureLogRocket: Error getting session URL:",t),e("")}}captureMessage(e,t){if(this.logRocket)try{const o=i.sanitizeString(e),r=t?this.sanitizeUserInfo(t):void 0;this.logRocket.captureMessage(o,r)}catch(o){console.error("SecureLogRocket: Error capturing message:",o)}else console.warn("SecureLogRocket: Not initialized")}captureException(e,t){if(this.logRocket)try{const o=t?this.sanitizeUserInfo(t):void 0;this.logRocket.captureException(e,o)}catch(o){console.error("SecureLogRocket: Error capturing exception:",o)}else console.warn("SecureLogRocket: Not initialized")}preventDeprecatedEventListeners(){const e=window.addEventListener;window.addEventListener=function(t,o,i){return"unload"===t?(console.warn('SecureLogRocket: Replacing deprecated "unload" event with "pagehide"'),e.call(this,"pagehide",o,i)):"beforeunload"===t?(console.warn('SecureLogRocket: "beforeunload" event should be used sparingly'),e.call(this,t,o,i)):e.call(this,t,o,i)}}uninstall(){try{this.logRocket&&"function"==typeof this.logRocket.uninstall&&this.logRocket.uninstall(),this.interceptor.uninstall(),this.logRocket=null,this.isInitialized=!1,console.log("SecureLogRocket: Uninstalled successfully")}catch(e){console.error("SecureLogRocket: Error during uninstall:",e)}}sanitizeUserInfo(e){const t={};for(const[o,r]of Object.entries(e)){const e=i.sanitizeString(String(o));t[e]="string"==typeof r?i.sanitizeString(r):"number"==typeof r||"boolean"==typeof r||null==r?r:i.sanitizeString(JSON.stringify(r))}return t}get isReady(){return this.isInitialized&&null!==this.logRocket}get instance(){return this.logRocket}},s=()=>(e.useEffect((()=>{if("undefined"!=typeof window)try{if(window.clarity)return void console.log("Microsoft Clarity already initialized");const e=document.createElement("script");e.type="text/javascript",e.innerHTML="\n          (function(c,l,a,r,i,t,y){\n            try {\n              c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};\n              t=l.createElement(r);t.async=1;t.src=\"https://www.clarity.ms/tag/\"+i;\n              y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);\n              \n              // Set a flag to track if Clarity is ready\n              c['clarityReady'] = true;\n              \n              // Queue initialization\n              c[a]('identify', 'tarcisio-portfolio', 'TarcÃ­sio Bispo Portfolio');\n              c[a]('set', 'portfolio_owner', 'Tarcisio Bispo de Araujo');\n              c[a]('set', 'portfolio_type', 'UX/Product Designer');\n              c[a]('set', 'portfolio_version', '2024');\n              c[a]('set', 'site_language', 'multi');\n              c[a]('event', 'portfolio_initialized');\n              \n              console.log('Microsoft Clarity initialized successfully');\n            } catch (e) {\n              console.error('Error initializing Clarity:', e);\n            }\n          })(window, document, 'clarity', 'script', 'rp64ayubme');\n        ",e.onerror=()=>{console.error("Failed to load Microsoft Clarity script")},document.head.appendChild(e)}catch(e){console.error("Failed to initialize Microsoft Clarity:",e)}}),[]),null),a=({gtmId:t})=>(e.useEffect((()=>{if("undefined"!=typeof window&&t){const e=document.createElement("script");return e.innerHTML=`\n        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n        })(window,document,'script','dataLayer','${t}');\n      `,document.head.appendChild(e),()=>{document.head.contains(e)&&document.head.removeChild(e)}}}),[t]),null),l=({gtmId:t})=>(e.useEffect((()=>{if("undefined"!=typeof window&&t){const e=document.createElement("noscript");return e.innerHTML=`\n        <iframe src="https://www.googletagmanager.com/ns.html?id=${t}"\n        height="0" width="0" style="display:none;visibility:hidden"></iframe>\n      `,document.body.insertBefore(e,document.body.firstChild),()=>{document.body.contains(e)&&document.body.removeChild(e)}}}),[t]),null);class g extends e.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),this.props.onError?this.props.onError(e,t):console.error("ErrorBoundary caught an error:",e,t)}render(){return this.state.hasError?this.props.fallback||t.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:t.jsxs("div",{className:"text-center max-w-lg",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Algo deu errado"}),t.jsx("p",{className:"mb-4",children:"Desculpe, encontramos um problema ao carregar esta pÃ¡gina."}),this.state.error&&t.jsxs("details",{className:"mb-4 text-left",children:[t.jsx("summary",{className:"text-sm text-gray-600 cursor-pointer mb-2",children:"Detalhes do erro"}),t.jsxs("pre",{className:"bg-gray-100 p-3 rounded text-xs overflow-auto",children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]}),t.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Recarregar PÃ¡gina"})]})}):this.props.children}}const d=()=>null,u=(h=({children:o})=>{const i=e.useCallback(((e,t)=>{console.error("Analytics Error:",e,t)}),[]);return e.useEffect((()=>((async()=>{if(c)try{try{await c.init("fatqpp/portfolio-kbfin",{shouldAugmentNPS:!1,shouldParseXHRBlob:!1,network:{isEnabled:!0,requestSanitizer:e=>{if(!e?.url)return e;try{let t;try{t=new URL(e.url)}catch{t=new URL(e.url,window.location.origin)}return["tarcisiobispo.github.io","logrocket.com","logrocket.io","clarity.ms","clarity.microsoft.com","google-analytics.com","googletagmanager.com"].some((e=>t.hostname===e||t.hostname.endsWith(`.${e}`)))?e:null}catch(t){return console.warn("Erro ao processar URL:",t),null}}}});try{c.identify("portfolio-visitor",{type:"portfolio-visitor",firstVisit:!localStorage.getItem("hasVisitedBefore")}),localStorage.setItem("hasVisitedBefore","true")}catch(e){console.warn("Erro ao identificar usuÃ¡rio no LogRocket:",e)}}catch(t){console.error("Falha ao inicializar LogRocket:",t)}}catch(o){console.error("Erro na inicializaÃ§Ã£o dos serviÃ§os de analytics:",o)}else console.warn("secureLogRocket nÃ£o estÃ¡ disponÃ­vel")})(),()=>{})),[]),t.jsxs(t.Fragment,{children:[t.jsx(g,{onError:i,fallback:t.jsx(d,{}),children:t.jsxs(t.Fragment,{children:[t.jsx(a,{gtmId:r.GTM_ID}),t.jsx(l,{gtmId:r.GTM_ID}),t.jsx(s,{})]})}),o]})},m=d,p=(e,t)=>{console.error("Erro no AnalyticsProvider:",e,t)},function(e){return t.jsx(g,{fallback:m?t.jsx(m,{error:void 0}):null,onError:p,children:t.jsx(h,{...e})})});var h,m,p;export{u as default};
