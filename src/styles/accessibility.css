/* Estilos de Acessibilidade */

/* Alto Contraste WCAG 2.2 - 4.5:1 ratio mínimo */
.high-contrast {
  --color-bg: #000000 !important;
  --color-surface: #000000 !important;
  --color-primary: #ffffff !important;
  --color-primary-light: #ffffff !important;
  --color-primary-dark: #ffffff !important;
  --color-secondary: #00ffff !important; /* Cyan para diferenciação */
  --color-accent: #ffff00 !important; /* Yellow para destaque */
  --color-accent-light: #ffff00 !important;
  --color-neutral: #ffffff !important;
  --color-neutral-dark: #ffffff !important;
  --color-text: #ffffff !important;
  --color-text-light: #ffffff !important;
  --color-muted: #ffffff !important; /* Mudado para branco total */
  --color-success: #00ff00 !important; /* Verde puro */
  --color-error: #ff0000 !important; /* Vermelho puro */
  --color-warning: #ffff00 !important; /* Amarelo puro */
  --color-border: #ffffff !important;
  --color-card-bg: #000000 !important;
  --color-link: #00ffff !important; /* Cyan para links */
  --color-link-hover: #ffff00 !important; /* Amarelo no hover */
  --color-title-primary: #ffffff !important;
  --color-title-secondary: #ffffff !important;
  --color-subtitle: #ffffff !important;
}

/* Aplicação mais específica do alto contraste */
.high-contrast,
.high-contrast * {
  background-color: #000000 !important;
  color: #ffffff !important;
  border-color: #ffffff !important;
  box-shadow: none !important;
}

/* Exceções para elementos que precisam manter funcionalidade */
.high-contrast img:not(.accessibility-icon),
.high-contrast video,
.high-contrast svg:not(.accessibility-icon) {
  filter: contrast(200%) brightness(150%) invert(1) !important;
}

/* Ícones de acessibilidade mantêm cores originais */
.high-contrast .accessibility-icon {
  filter: none !important;
}

/* Botões e links com melhor contraste */
.high-contrast button,
.high-contrast a,
.high-contrast input,
.high-contrast textarea,
.high-contrast select {
  background-color: #000000 !important;
  color: #ffffff !important;
  border: 3px solid #ffffff !important;
  outline: none !important;
}

.high-contrast button:hover,
.high-contrast a:hover,
.high-contrast button:focus,
.high-contrast a:focus {
  background-color: #ffffff !important;
  color: #000000 !important;
  border: 3px solid #000000 !important;
}

/* Cards e containers */
.high-contrast .bg-white,
.high-contrast .bg-gray-50,
.high-contrast .bg-blue-50,
.high-contrast .bg-slate-100,
.high-contrast [style*="background"] {
  background-color: #000000 !important;
}

/* Texto em containers */
.high-contrast .text-gray-600,
.high-contrast .text-gray-700,
.high-contrast .text-gray-800,
.high-contrast .text-gray-900,
.high-contrast .text-blue-600,
.high-contrast .text-blue-700,
.high-contrast .text-slate-600 {
  color: #ffffff !important;
}

/* Gradientes removidos */
.high-contrast [class*="gradient"],
.high-contrast [style*="gradient"] {
  background: #000000 !important;
}

/* Sombras removidas */
.high-contrast [class*="shadow"] {
  box-shadow: 0 0 0 2px #ffffff !important;
}

/* Foco Visível Melhorado */
*:focus-visible {
  outline: 3px solid #0066cc !important;
  outline-offset: 2px !important;
  border-radius: 4px !important;
}

.high-contrast *:focus-visible {
  outline: 3px solid #ffffff !important;
  outline-offset: 2px !important;
}

/* Skip Links */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: #0066cc;
  color: white;
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 1000;
  font-weight: bold;
}

.skip-link:focus {
  top: 6px;
}

/* Melhorias para Leitores de Tela */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Indicador visual quando voice-over está ativo */
body.voice-over-active {
  cursor: help !important;
}

body.voice-over-active * {
  cursor: help !important;
}

/* Corrigir aumento de texto para não quebrar layout */
html {
  font-size: 16px;
}

body {
  font-size: 1rem;
}

img, svg, video, canvas, iframe {
  max-width: 100%;
  height: auto;
}

/* Quando o tamanho da fonte é aumentado, manter imagens responsivas */
[style*="font-size"] img,
[style*="font-size"] svg,
[style*="font-size"] video,
[style*="font-size"] canvas,
[style*="font-size"] iframe {
  max-width: 100% !important;
  height: auto !important;
  object-fit: contain !important;
}

/* Esconder a seta de voltar ao topo em mobile */
@media (max-width: 768px) {
  .back-to-top {
    right: 2px !important;
    bottom: 2px !important;
    padding: 6px !important;
  }
  
  .back-to-top svg {
    width: 16px !important;
    height: 16px !important;
  }
  
  /* Desativar modo leitura em mobile */
  .focus-mode {
    --color-bg: initial !important;
    --color-text: initial !important;
    --color-card-bg: initial !important;
    --color-border: initial !important;
  }
  
  .focus-mode * {
    font-family: inherit !important;
    line-height: inherit !important;
    letter-spacing: inherit !important;
  }
}