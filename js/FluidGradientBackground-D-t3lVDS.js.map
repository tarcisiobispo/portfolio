{"version":3,"file":"FluidGradientBackground-D-t3lVDS.js","sources":["../../src/hooks/useFluidGradient.ts","../../src/components/FluidGradientBackground.tsx"],"sourcesContent":["import { useEffect, useState, useCallback } from 'react';\r\n\r\ninterface SectionConfig {\r\n  id: string;\r\n  className: string;\r\n  threshold: number; // Porcentagem da tela para ativar\r\n}\r\n\r\nconst SECTIONS: SectionConfig[] = [\r\n  { id: 'perfil', className: 'section-profile', threshold: 0.3 },\r\n  { id: 'projetos', className: 'section-projects', threshold: 0.3 },\r\n  { id: 'backlog', className: 'section-backlog', threshold: 0.3 },\r\n  { id: 'contato', className: 'section-contact', threshold: 0.3 },\r\n];\r\n\r\nexport const useFluidGradient = () => {\r\n  const [currentSection, setCurrentSection] = useState<string>('section-profile');\r\n  const [isScrolling, setIsScrolling] = useState(false);\r\n\r\n  // Fun√ß√£o para detectar qual se√ß√£o est√° ativa\r\n  const detectActiveSection = useCallback(() => {\r\n    const scrollY = window.scrollY;\r\n    const windowHeight = window.innerHeight;\r\n    \r\n    // Se estiver no topo da p√°gina, sempre mostrar perfil\r\n    if (scrollY < windowHeight * 0.2) {\r\n      return 'section-profile';\r\n    }\r\n\r\n    // Verificar cada se√ß√£o\r\n    for (const section of SECTIONS) {\r\n      const element = document.getElementById(section.id);\r\n      if (!element) continue;\r\n\r\n      const rect = element.getBoundingClientRect();\r\n      const elementTop = rect.top + scrollY;\r\n      const elementHeight = rect.height;\r\n      const elementCenter = elementTop + (elementHeight / 2);\r\n\r\n      // Se o centro da se√ß√£o est√° vis√≠vel na tela\r\n      const viewportCenter = scrollY + (windowHeight / 2);\r\n      const distanceFromCenter = Math.abs(elementCenter - viewportCenter);\r\n      \r\n      // Se est√° pr√≥ximo do centro da viewport\r\n      if (distanceFromCenter < elementHeight * 0.6) {\r\n        return section.className;\r\n      }\r\n    }\r\n\r\n    return currentSection; // Manter se√ß√£o atual se nenhuma for detectada\r\n  }, [currentSection]);\r\n\r\n  // Fun√ß√£o otimizada de scroll com throttling\r\n  const handleScroll = useCallback(() => {\r\n    if (!isScrolling) {\r\n      setIsScrolling(true);\r\n      \r\n      requestAnimationFrame(() => {\r\n        const newSection = detectActiveSection();\r\n        if (newSection !== currentSection) {\r\n          setCurrentSection(newSection);\r\n        }\r\n        setIsScrolling(false);\r\n      });\r\n    }\r\n  }, [currentSection, detectActiveSection, isScrolling]);\r\n\r\n  // Aplicar classe ao container de gradiente\r\n  const applyGradientClass = useCallback((sectionClass: string) => {\r\n    const container = document.querySelector('.fluid-gradient-container');\r\n    if (!container) return;\r\n\r\n    // Remover todas as classes de se√ß√£o\r\n    SECTIONS.forEach(section => {\r\n      container.classList.remove(section.className);\r\n    });\r\n\r\n    // Adicionar nova classe com pequeno delay para transi√ß√£o suave\r\n    setTimeout(() => {\r\n      container.classList.add(sectionClass);\r\n    }, 50);\r\n  }, []);\r\n\r\n  // Effect para scroll listener\r\n  useEffect(() => {\r\n    // Configurar scroll listener otimizado\r\n    const scrollOptions = {\r\n      passive: true,\r\n      capture: false\r\n    };\r\n\r\n    window.addEventListener('scroll', handleScroll, scrollOptions);\r\n    \r\n    // Detectar se√ß√£o inicial\r\n    const initialSection = detectActiveSection();\r\n    setCurrentSection(initialSection);\r\n\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll, scrollOptions);\r\n    };\r\n  }, [handleScroll, detectActiveSection]);\r\n\r\n  // Effect para aplicar classes CSS\r\n  useEffect(() => {\r\n    applyGradientClass(currentSection);\r\n  }, [currentSection, applyGradientClass]);\r\n\r\n  // Fun√ß√£o para for√ßar mudan√ßa de se√ß√£o (√∫til para navega√ß√£o)\r\n  const setSection = useCallback((sectionId: string) => {\r\n    const sectionConfig = SECTIONS.find(s => s.id === sectionId);\r\n    if (sectionConfig) {\r\n      setCurrentSection(sectionConfig.className);\r\n    }\r\n  }, []);\r\n\r\n  // Fun√ß√£o para obter informa√ß√µes da se√ß√£o atual\r\n  const getCurrentSectionInfo = useCallback(() => {\r\n    const config = SECTIONS.find(s => s.className === currentSection);\r\n    return {\r\n      id: config?.id || 'perfil',\r\n      className: currentSection,\r\n      displayName: getSectionDisplayName(config?.id || 'perfil')\r\n    };\r\n  }, [currentSection]);\r\n\r\n  return {\r\n    currentSection,\r\n    setSection,\r\n    getCurrentSectionInfo,\r\n    isScrolling\r\n  };\r\n};\r\n\r\n// Fun√ß√£o auxiliar para nomes de exibi√ß√£o\r\nconst getSectionDisplayName = (sectionId: string): string => {\r\n  const names: Record<string, string> = {\r\n    'perfil': 'Perfil',\r\n    'projetos': 'Projetos',\r\n    'backlog': 'Backlog Estrat√©gico',\r\n    'contato': 'Contato'\r\n  };\r\n  return names[sectionId] || sectionId;\r\n};\r\n\r\n// Hook para criar o container de gradiente\r\nexport const useGradientContainer = () => {\r\n  useEffect(() => {\r\n    // Verificar se j√° existe\r\n    if (document.querySelector('.fluid-gradient-container')) {\r\n      return;\r\n    }\r\n\r\n    // Criar container de gradiente\r\n    const gradientContainer = document.createElement('div');\r\n    gradientContainer.className = 'fluid-gradient-container section-profile';\r\n    \r\n    // Inserir no in√≠cio do body\r\n    document.body.insertBefore(gradientContainer, document.body.firstChild);\r\n\r\n    // Cleanup\r\n    return () => {\r\n      const container = document.querySelector('.fluid-gradient-container');\r\n      if (container) {\r\n        container.remove();\r\n      }\r\n    };\r\n  }, []);\r\n};\r\n\r\n// Hook combinado para facilitar uso\r\nexport const useFluidGradientSystem = () => {\r\n  useGradientContainer();\r\n  const gradientControls = useFluidGradient();\r\n  \r\n  return gradientControls;\r\n};\r\n\r\n// Fun√ß√£o utilit√°ria para transi√ß√µes manuais (navega√ß√£o)\r\nexport const triggerSectionTransition = (sectionId: string) => {\r\n  const container = document.querySelector('.fluid-gradient-container');\r\n  if (!container) return;\r\n\r\n  const sectionConfig = SECTIONS.find(s => s.id === sectionId);\r\n  if (!sectionConfig) return;\r\n\r\n  // Remover todas as classes\r\n  SECTIONS.forEach(section => {\r\n    container.classList.remove(section.className);\r\n  });\r\n\r\n  // Adicionar nova classe\r\n  container.classList.add(sectionConfig.className);\r\n};\r\n\r\nexport default useFluidGradient;\r\n","import React, { useEffect } from 'react';\r\nimport { useFluidGradientSystem } from '@/hooks/useFluidGradient';\r\n\r\ninterface FluidGradientBackgroundProps {\r\n  children?: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Componente que gerencia o sistema de gradientes fluidos\r\n * Cria automaticamente o fundo gradiente e controla as transi√ß√µes baseadas no scroll\r\n */\r\nconst FluidGradientBackground: React.FC<FluidGradientBackgroundProps> = ({ \r\n  children, \r\n  className = '' \r\n}) => {\r\n  // Inicializar sistema de gradientes\r\n  const { currentSection, getCurrentSectionInfo } = useFluidGradientSystem();\r\n\r\n  // Debug em desenvolvimento\r\n  useEffect(() => {\r\n    if (import.meta.env.DEV) {\r\n      const sectionInfo = getCurrentSectionInfo();\r\n      console.log('üé® Fluid Gradient:', {\r\n        section: sectionInfo.displayName,\r\n        className: currentSection\r\n      });\r\n    }\r\n  }, [currentSection, getCurrentSectionInfo]);\r\n\r\n  return (\r\n    <>\r\n      {/* O hook j√° cria o container de gradiente automaticamente */}\r\n      {children && (\r\n        <div className={`relative z-10 ${className}`}>\r\n          {children}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\n/**\r\n * Componente indicador visual da se√ß√£o atual (opcional)\r\n * √ötil para debug ou como indicador de navega√ß√£o\r\n */\r\nexport const GradientSectionIndicator: React.FC = () => {\r\n  const { getCurrentSectionInfo } = useFluidGradientSystem();\r\n  const sectionInfo = getCurrentSectionInfo();\r\n\r\n  if (import.meta.env.PROD) {\r\n    return null; // N√£o mostrar em produ√ß√£o\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed top-20 right-4 z-50 bg-black/80 text-white px-3 py-2 rounded-lg text-sm font-mono\">\r\n      <div className=\"text-xs opacity-70\">Se√ß√£o Atual:</div>\r\n      <div className=\"font-semibold\">{sectionInfo.displayName}</div>\r\n      <div className=\"text-xs opacity-50\">{sectionInfo.className}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Hook para componentes que precisam reagir √†s mudan√ßas de se√ß√£o\r\n */\r\nexport const useCurrentSection = () => {\r\n  const { getCurrentSectionInfo } = useFluidGradientSystem();\r\n  return getCurrentSectionInfo();\r\n};\r\n\r\n/**\r\n * Componente wrapper para se√ß√µes que precisam de gradientes espec√≠ficos\r\n */\r\ninterface GradientSectionProps {\r\n  sectionId: 'perfil' | 'projetos' | 'backlog' | 'contato';\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nexport const GradientSection: React.FC<GradientSectionProps> = ({\r\n  sectionId,\r\n  children,\r\n  className = ''\r\n}) => {\r\n  return (\r\n    <section \r\n      id={sectionId}\r\n      className={`relative ${className}`}\r\n      data-gradient-section={sectionId}\r\n    >\r\n      {children}\r\n    </section>\r\n  );\r\n};\r\n\r\n/**\r\n * Componente para transi√ß√µes manuais de gradiente\r\n * √ötil para navega√ß√£o ou bot√µes que mudam se√ß√£o\r\n */\r\ninterface GradientTriggerProps {\r\n  targetSection: 'perfil' | 'projetos' | 'backlog' | 'contato';\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  onClick?: () => void;\r\n}\r\n\r\nexport const GradientTrigger: React.FC<GradientTriggerProps> = ({\r\n  targetSection,\r\n  children,\r\n  className = '',\r\n  onClick\r\n}) => {\r\n  const { setSection } = useFluidGradientSystem();\r\n\r\n  const handleClick = () => {\r\n    setSection(targetSection);\r\n    onClick?.();\r\n  };\r\n\r\n  return (\r\n    <div \r\n      className={`cursor-pointer ${className}`}\r\n      onClick={handleClick}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FluidGradientBackground;\r\n"],"names":["SECTIONS","id","className","threshold","getSectionDisplayName","sectionId","perfil","projetos","backlog","contato","useFluidGradientSystem","useEffect","document","querySelector","gradientContainer","createElement","body","insertBefore","firstChild","container","remove","gradientControls","currentSection","setCurrentSection","useState","isScrolling","setIsScrolling","detectActiveSection","useCallback","scrollY","window","windowHeight","innerHeight","section","element","getElementById","rect","getBoundingClientRect","elementTop","top","elementHeight","height","elementCenter","viewportCenter","distanceFromCenter","Math","abs","handleScroll","requestAnimationFrame","newSection","applyGradientClass","sectionClass","forEach","classList","setTimeout","add","scrollOptions","passive","capture","addEventListener","initialSection","removeEventListener","setSection","sectionConfig","find","s","getCurrentSectionInfo","config","displayName","useFluidGradient","FluidGradientBackground","children","_Fragment","jsxRuntimeExports","jsx","div","GradientSectionIndicator","useCurrentSection","GradientSection","data-gradient-section","GradientTrigger","targetSection","onClick"],"mappings":"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"}