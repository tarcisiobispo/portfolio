var t=Object.defineProperty,e=(e,o,r)=>((e,o,r)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r)(e,"symbol"!=typeof o?o+"":o,r);import{r as o,j as r}from"./chunk-DCDZ4v8T.js";import{_ as i,S as n,A as c}from"./chunk-DCIw0zLK.js";import"./chunk-BM1tBEXS.js";import"./chunk-BINE45Es.js";import"./chunk-CmrceVMR.js";import"./chunk-7jliI9d_.js";import"./chunk-DMDKzaMJ.js";import"./chunk-OBXXhUzm.js";import"./chunk-DotIZ1Qp.js";/* empty css              */class s{constructor(){e(this,"originalXMLHttpRequest"),e(this,"originalFetch"),this.originalXMLHttpRequest=window.XMLHttpRequest,this.originalFetch=window.fetch}install(){this.interceptXMLHttpRequest(),this.interceptFetch()}uninstall(){this.originalXMLHttpRequest&&(window.XMLHttpRequest=this.originalXMLHttpRequest),this.originalFetch&&(window.fetch=this.originalFetch)}interceptXMLHttpRequest(){const t=this.originalXMLHttpRequest,e=n,o=function(){const o=new t,r=o.open;return o.open=function(t,o,...i){if("string"==typeof o)try{if(e.matchesAnalyticsPattern(o,"wootric")){if(!e.validateAnalyticsUrl(o))return void console.warn("SecureLogRocket: Blocked potentially unsafe Wootric URL:",o)}else if(e.matchesAnalyticsPattern(o,"delighted")){if(!e.validateAnalyticsUrl(o))return void console.warn("SecureLogRocket: Blocked potentially unsafe Delighted URL:",o)}else if(e.matchesAnalyticsPattern(o,"logrocket")&&!e.validateAnalyticsUrl(o))return void console.warn("SecureLogRocket: Blocked potentially unsafe LogRocket URL:",o)}catch(n){return void console.warn("SecureLogRocket: Error validating URL:",n)}return r.call(this,t,o,...i)},o};o.prototype=t.prototype;for(const r of Object.getOwnPropertyNames(t))if("prototype"!==r&&"length"!==r&&"name"!==r){const e=Object.getOwnPropertyDescriptor(t,r);e&&Object.defineProperty(o,r,e)}window.XMLHttpRequest=o}interceptFetch(){const t=this.originalFetch,e=n;window.fetch=function(o,r){let i;try{if(i="string"==typeof o?o:o instanceof URL?o.href:o instanceof Request?o.url:String(o),(e.matchesAnalyticsPattern(i,"wootric")||e.matchesAnalyticsPattern(i,"delighted")||e.matchesAnalyticsPattern(i,"logrocket"))&&!e.validateAnalyticsUrl(i))return console.warn("SecureLogRocket: Blocked potentially unsafe analytics URL:",i),Promise.reject(new Error("URL validation failed"))}catch(n){console.warn("SecureLogRocket: Error validating fetch URL:",n)}return t.call(window,o,r)}}}const a=new class{constructor(){e(this,"logRocket",null),e(this,"interceptor"),e(this,"isInitialized",!1),this.interceptor=new s}async init(t,e={}){if(this.isInitialized)console.warn("SecureLogRocket: Already initialized");else try{this.interceptor.install(),this.preventDeprecatedEventListeners();try{const t=await i((()=>import("./chunk-BM1tBEXS.js").then((t=>t.b))),[]);this.logRocket=t,"object"==typeof this.logRocket.default&&(this.logRocket=this.logRocket.default)}catch(o){throw console.error("SecureLogRocket: Error importing LogRocket:",o),o}const r={shouldAugmentNPS:!1,shouldParseXHRBlob:!1,network:{isEnabled:!0},...e};this.logRocket.init(t,r),this.isInitialized=!0}catch(r){throw console.error("SecureLogRocket: Failed to initialize:",r),this.interceptor.uninstall(),r}}identify(t,e){if(this.logRocket)try{const o=e?this.sanitizeUserInfo(e):void 0;this.logRocket.identify(t,o)}catch(o){console.error("SecureLogRocket: Error identifying user:",o)}else console.warn("SecureLogRocket: Not initialized")}track(t,e){if(this.logRocket)try{const o=e?this.sanitizeUserInfo(e):void 0;this.logRocket.track(t,o)}catch(o){console.error("SecureLogRocket: Error tracking event:",o)}else console.warn("SecureLogRocket: Not initialized")}getSessionURL(t){if(!this.logRocket)return console.warn("SecureLogRocket: Not initialized"),void t("");try{this.logRocket.getSessionURL((e=>{if(e&&"string"==typeof e&&e.length>0)try{const o=new URL(e),r=o.hostname.toLowerCase().trim();[/^app\.logrocket\.com$/,/^api\.logrocket\.com$/,/^e\.logrocket\.com$/,/^app\.logrocket\.io$/,/^api\.logrocket\.io$/,/^e\.logrocket\.io$/,/^cdn\.logrocket\.com$/,/^cdn\.logrocket\.io$/,/^cdn\.lr-ingest\.io$/,/^cdn\.lr-in\.com$/,/^cdn\.lr-in-prod\.com$/,/^cdn\.lr-ingest\.com$/,/^cdn\.ingest-lr\.com$/,/^cdn\.lr-intake\.com$/,/^cdn\.intake-lr\.com$/,/^cdn\.logr-ingest\.com$/,/^cdn\.lrkt-in\.com$/,/^cdn\.lgrckt-in\.com$/,/^cdn-staging\.logrocket\.io$/,/^cdn-staging\.lr-ingest\.io$/,/^cdn-staging\.lr-in\.com$/,/^cdn-staging\.lr-in-prod\.com$/,/^cdn-staging\.lr-ingest\.com$/,/^cdn-staging\.ingest-lr\.com$/,/^cdn-staging\.lr-intake\.com$/,/^cdn-staging\.intake-lr\.com$/,/^cdn-staging\.logr-ingest\.com$/,/^cdn-staging\.lrkt-in\.com$/,/^cdn-staging\.lgrckt-in\.com$/,/^r\.logrocket\.io$/,/^r\.lr-ingest\.io$/,/^r\.lr-in\.com$/,/^r\.lr-in-prod\.com$/,/^r\.lr-ingest\.com$/,/^r\.ingest-lr\.com$/,/^r\.lr-intake\.com$/,/^r\.intake-lr\.com$/,/^r\.logr-ingest\.com$/,/^r\.lrkt-in\.com$/,/^r\.lgrckt-in\.com$/,/^staging-i\.logrocket\.io$/,/^staging-i\.lr-ingest\.io$/,/^staging-i\.lr-in\.com$/,/^staging-i\.lr-in-prod\.com$/,/^staging-i\.lr-ingest\.com$/,/^staging-i\.ingest-lr\.com$/,/^staging-i\.lr-intake\.com$/,/^staging-i\.intake-lr\.com$/,/^staging-i\.logr-ingest\.com$/,/^staging-i\.lrkt-in\.com$/,/^staging-i\.lgrckt-in\.com$/].some((t=>t.test(r)))?t(e):(console.warn("SecureLogRocket: Invalid session URL domain:",o.hostname),t(""))}catch(o){console.warn("SecureLogRocket: Invalid session URL format:",e),t("")}else console.warn("SecureLogRocket: Empty or invalid session URL received"),t("")}))}catch(e){console.error("SecureLogRocket: Error getting session URL:",e),t("")}}captureMessage(t,e){if(this.logRocket)try{const o=n.sanitizeString(t),r=e?this.sanitizeUserInfo(e):void 0;this.logRocket.captureMessage(o,r)}catch(o){console.error("SecureLogRocket: Error capturing message:",o)}else console.warn("SecureLogRocket: Not initialized")}captureException(t,e){if(this.logRocket)try{const o=e?this.sanitizeUserInfo(e):void 0;this.logRocket.captureException(t,o)}catch(o){console.error("SecureLogRocket: Error capturing exception:",o)}else console.warn("SecureLogRocket: Not initialized")}preventDeprecatedEventListeners(){const t=window.addEventListener;window.addEventListener=function(e,o,r){return"unload"===e?(console.warn('SecureLogRocket: Replacing deprecated "unload" event with "pagehide"'),t.call(this,"pagehide",o,r)):"beforeunload"===e?(console.warn('SecureLogRocket: "beforeunload" event should be used sparingly'),t.call(this,e,o,r)):t.call(this,e,o,r)}}uninstall(){try{this.logRocket&&"function"==typeof this.logRocket.uninstall&&this.logRocket.uninstall(),this.interceptor.uninstall(),this.logRocket=null,this.isInitialized=!1}catch(t){console.error("SecureLogRocket: Error during uninstall:",t)}}sanitizeUserInfo(t){const e={};for(const[o,r]of Object.entries(t)){const t=n.sanitizeString(String(o));e[t]="string"==typeof r?n.sanitizeString(r):"number"==typeof r||"boolean"==typeof r||null==r?r:n.sanitizeString(JSON.stringify(r))}return e}get isReady(){return this.isInitialized&&null!==this.logRocket}get instance(){return this.logRocket}},l=()=>(o.useEffect((()=>{try{const t=document.createElement("script");t.type="text/javascript",t.innerHTML='\n          (function(c,l,a,r,i,t,y){\n            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};\n            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;\n            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);\n          })(window, document, "clarity", "script", "rp64ayubme");\n\n          // Identificar o usuário/portfolio\n          clarity("identify", "tarcisio-portfolio", "Tarcísio Bispo Portfolio");\n          \n          // Adicionar tags personalizadas para contexto\n          clarity("set", "portfolio_owner", "Tarcisio Bispo de Araujo");\n          clarity("set", "portfolio_type", "UX/Product Designer");\n          clarity("set", "portfolio_version", "2024");\n          clarity("set", "site_language", "multi");\n          \n          // Registrar evento de inicialização do portfolio\n          clarity("event", "portfolio_initialized");\n        ',document.head.appendChild(t)}catch(t){console.error("Failed to initialize Microsoft Clarity:",t)}}),[]),null),g=({gtmId:t})=>(o.useEffect((()=>{if("undefined"!=typeof window&&t){const e=document.createElement("script");return e.innerHTML=`\n        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n        })(window,document,'script','dataLayer','${t}');\n      `,document.head.appendChild(e),()=>{document.head.contains(e)&&document.head.removeChild(e)}}}),[t]),null),d=({gtmId:t})=>(o.useEffect((()=>{if("undefined"!=typeof window&&t){const e=document.createElement("noscript");return e.innerHTML=`\n        <iframe src="https://www.googletagmanager.com/ns.html?id=${t}"\n        height="0" width="0" style="display:none;visibility:hidden"></iframe>\n      `,document.body.insertBefore(e,document.body.firstChild),()=>{document.body.contains(e)&&document.body.removeChild(e)}}}),[t]),null);class u extends o.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){this.setState({error:t,errorInfo:e}),this.props.onError?this.props.onError(t,e):console.error("ErrorBoundary caught an error:",t,e)}render(){var t;return this.state.hasError?this.props.fallback||r.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:r.jsxs("div",{className:"text-center max-w-lg",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Algo deu errado"}),r.jsx("p",{className:"mb-4",children:"Desculpe, encontramos um problema ao carregar esta página."}),this.state.error&&r.jsxs("details",{className:"mb-4 text-left",children:[r.jsx("summary",{className:"text-sm text-gray-600 cursor-pointer mb-2",children:"Detalhes do erro"}),r.jsxs("pre",{className:"bg-gray-100 p-3 rounded text-xs overflow-auto",children:[this.state.error.toString(),null==(t=this.state.errorInfo)?void 0:t.componentStack]})]}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Recarregar Página"})]})}):this.props.children}}const h=()=>null,m=(p=({children:t})=>{const e=o.useCallback(((t,e)=>{console.error("Analytics Error:",t,e)}),[]);return o.useEffect((()=>{(async()=>{try{if("function"==typeof(null==a?void 0:a.init))try{a.init("fatqpp/portfolio-kbfin",{shouldAugmentNPS:!1,shouldParseXHRBlob:!1,network:{isEnabled:!0,requestSanitizer:t=>{if(!(null==t?void 0:t.url))return t;try{const e=new URL(t.url);return["tarcisiobispo.github.io","logrocket.com","logrocket.io","clarity.ms","clarity.microsoft.com","google-analytics.com","googletagmanager.com"].some((t=>e.hostname===t||e.hostname.endsWith(`.${t}`)))?t:null}catch(e){return null}}}}),a.identify("portfolio-visitor",{type:"portfolio-visitor",firstVisit:!localStorage.getItem("hasVisitedBefore")}),localStorage.setItem("hasVisitedBefore","true")}catch(t){console.error("Falha ao inicializar LogRocket:",t)}}catch(t){console.error("Erro na inicialização dos serviços de analytics:",t)}})()}),[]),r.jsxs(r.Fragment,{children:[r.jsx(u,{onError:e,fallback:r.jsx(h,{}),children:r.jsxs(r.Fragment,{children:[r.jsx(g,{gtmId:c.GTM_ID}),r.jsx(d,{gtmId:c.GTM_ID}),r.jsx(l,{})]})}),t]})},f=h,k=(t,e)=>{console.error("Erro no AnalyticsProvider:",t,e)},function(t){return r.jsx(u,{fallback:f?r.jsx(f,{error:void 0}):null,onError:k,children:r.jsx(p,{...t})})});var p,f,k;export{m as default};
//# sourceMappingURL=AnalyticsProvider-Di5BcC2c.js.map
